# Inventory - Uncloaked
item replace entity @s[scores={time=..0}] hotbar.0 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Aura","color":"#8B8BAD"}','{"text":"Cooldown: 5 seconds","color":"#8B8BAD"}','{"text":"Damage: +1 Heart","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"For 3 seconds, empower yourself, granting you a 2 heart shield. When you next attack an enemy, they receive +1 heart of damage, and the effect ends.","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin1:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3,Operation:0,UUID:[I;1499484758,-203865564,-2141723435,-335912141],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;493387702,1023298177,-1978029711,-1423751435],Slot:"mainhand"}]} 1

item replace entity @s[scores={time=..0}] hotbar.1 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Petrifying Wound","color":"#8B8BAD"}','{"text":"Cooldown: 15 seconds","color":"#8B8BAD"}','{"text":"Damage: 0","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"For 3 seconds, empower your next weapon attack. When a target gets hit, after 1.5 seconds, they get immobilized for 3 seconds, weak and granted invulnerability.","color":"#8B8BAD"}','{"text":"","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin2:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3,Operation:0,UUID:[I;2147172990,2017610214,-1288500653,160905480],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;-1496684883,-598716933,-1737460567,1894615205],Slot:"mainhand"}]} 1

item replace entity @s[scores={time=..0}] hotbar.2 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Meditation","color":"#8B8BAD"}','{"text":"Cooldown: 30 seconds","color":"#8B8BAD"}','{"text":"Damage: 2 Hearts per second","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"You freeze in place and become invulnerable and summon a heavy magic aura that, for 3 seconds, deals damage to surrounding enemies.","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin3:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3,Operation:0,UUID:[I;-1920000553,-1178056885,-1757133075,-1221094419],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1041336406,-1464776908,-1098005091,-90942018],Slot:"mainhand"}]} 1





item replace entity @s[scores={time=1..}] hotbar.0 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Aura","color":"#8B8BAD"}','{"text":"Cooldown: 5 seconds","color":"#8B8BAD"}','{"text":"Damage: +1 Heart","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"For 3 seconds, empower yourself, granting you a 2 heart shield. When you next attack an enemy, they receive +1 heart of damage, and the effect ends.","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin1:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:5,Operation:0,UUID:[I;1499484758,-203865564,-2141723435,-335912141],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;493387702,1023298177,-1978029711,-1423751435],Slot:"mainhand"}]} 1

item replace entity @s[scores={time=1..}] hotbar.1 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Petrifying Wound","color":"#8B8BAD"}','{"text":"Cooldown: 15 seconds","color":"#8B8BAD"}','{"text":"Damage: 0","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"For 15 seconds, empower your next weapon attack. When a target gets hit, after 1.5 seconds, they get immobilized for 3 seconds, weak and granted invulnerability.","color":"#8B8BAD"}','{"text":"","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin2:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:5,Operation:0,UUID:[I;2147172990,2017610214,-1288500653,160905480],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;-1496684883,-598716933,-1737460567,1894615205],Slot:"mainhand"}]} 1

item replace entity @s[scores={time=1..}] hotbar.2 with carrot_on_a_stick{display:{Name:'{"text":"Stone Orb","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Meditation","color":"#8B8BAD"}','{"text":"Cooldown: 30 seconds","color":"#8B8BAD"}','{"text":"Damage: 2 Hearts per second","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"You freeze in place and become invulnerable and summon a heavy magic aura that, for 3 seconds, deals damage to surrounding enemies.","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,ability:1b,CustomModelData:1077,kin3:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:5,Operation:0,UUID:[I;-1920000553,-1178056885,-1757133075,-1221094419],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1041336406,-1464776908,-1098005091,-90942018],Slot:"mainhand"}]} 1





item replace entity @s hotbar.8 with carrot_on_a_stick{display:{Name:'{"text":"Passive Ability","color":"#65659E","bold":true}',Lore:['{"text":"Ability: Draconic Rage","color":"#8B8BAD"}','{"text":"------------------","color":"#8B8BAD"}','{"text":"Hold shift to charge up your next attack, up to 8 seconds of charge up. It charges twice as fast when using the ultimate ability.","color":"#8B8BAD"}','{"text":"The damage rises every 2 seconds, rising from 0 to 5 extra damage.","color":"#8B8BAD"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1081,clean:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:0,Operation:0,UUID:[I;-1673900732,-406696789,-2084626890,1257201255],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1714351060,-715373455,-1521802668,988800198],Slot:"mainhand"}]} 1

# Attributes
attribute @s minecraft:generic.max_health base set 28
attribute @s minecraft:generic.movement_speed base set 0.1155

# Ability Text Indicators
title @s[nbt={SelectedItem:{tag:{kin1:1b}}}] actionbar ["",{"text":"Ability: Aura || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a1_sec"},"bold":true}]
title @s[nbt={SelectedItem:{tag:{kin2:1b}}}] actionbar ["",{"text":"Ability: Petrifying Wound || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a2_sec"},"bold":true},{"text":" seconds","bold":true}]
title @s[nbt={SelectedItem:{tag:{kin3:1b}}}] actionbar ["",{"text":"Ability: Meditation || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a3_sec"},"bold":true},{"text":" seconds","bold":true}]
title @s[nbt={SelectedItem:{tag:{clean:1b}}}] actionbar {"text":""}

# Use Abilities
tag @s[scores={right_click=1..}] add use_ability
execute as @s[tag=use_ability,tag=can_use,nbt={SelectedItem:{tag:{kin1:1b}}},scores={a1_sec=0}] at @s run function raurus:classes/kin1
execute as @s[tag=use_ability,tag=can_use,nbt={SelectedItem:{tag:{kin2:1b}}},scores={a2_sec=0}] at @s run function raurus:classes/kin2
execute as @s[tag=use_ability,tag=can_use,nbt={SelectedItem:{tag:{kin3:1b}}},scores={a3_sec=0}] at @s run function raurus:classes/kin3

# Ability Icon Indicators
item replace entity @s[nbt=!{SelectedItem:{tag:{ability:1b}}}] hotbar.5 with air 1
item replace entity @s[nbt={SelectedItem:{tag:{kin1:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Aura"}'},Unbreakable:1b,CustomModelData:1078,HideFlags:4,Count:1b} 1
item replace entity @s[nbt={SelectedItem:{tag:{kin2:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Petrifying Wound"}'},Unbreakable:1b,CustomModelData:1079,HideFlags:4} 1
item replace entity @s[nbt={SelectedItem:{tag:{kin3:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Meditation"}'},Unbreakable:1b,CustomModelData:1080,HideFlags:4} 1

item replace entity @s inventory.18 with carrot_on_a_stick{display:{Name:'{"text":"Aura"}'},Unbreakable:1b,CustomModelData:1078,HideFlags:4} 1
item replace entity @s inventory.19 with carrot_on_a_stick{display:{Name:'{"text":"Petrifying Wound"}'},Unbreakable:1b,CustomModelData:1079,HideFlags:4} 1
item replace entity @s inventory.20 with carrot_on_a_stick{display:{Name:'{"text":"Meditation"}'},Unbreakable:1b,CustomModelData:1080,HideFlags:4} 1

# Ability 1
execute if entity @s[scores={time=1..}] run function raurus:abilities/kin1
execute if entity @s[scores={time=1}] run function raurus:abilities/kin1_end

# Ability 2
execute if entity @s[scores={time2=1..}] run function raurus:abilities/kin2
execute if entity @s[scores={time2=1}] run function raurus:abilities/kin2_end

# Ability 3
execute if entity @s[scores={time3=1..}] run function raurus:abilities/kin3

# Passive Ability
execute if entity @s[scores={deal_damage=1..}] run scoreboard players set @s counter 0
execute if entity @s[scores={counter=2..}] run scoreboard players remove @s counter 2
execute if entity @s[scores={sneak=1..,counter=..170}] run scoreboard players add @s counter 3
attribute @s[scores={counter=0..40}] minecraft:generic.attack_damage base set 0
attribute @s[scores={counter=40..80}] minecraft:generic.attack_damage base set 2
attribute @s[scores={counter=80..120}] minecraft:generic.attack_damage base set 4
attribute @s[scores={counter=120..175}] minecraft:generic.attack_damage base set 6
execute if entity @s[scores={counter=2..}] run particle enchant ~ ~ ~ 0.2 0.2 0.2 0 2
execute if entity @s[scores={counter=40..}] run particle enchant ~ ~ ~ 0.4 0.4 0.4 0.1 3 
execute if entity @s[scores={counter=80..}] run particle enchant ~ ~ ~ 0.6 0.6 0.6 0.2 4
execute if entity @s[scores={counter=120..}] run particle enchant ~ ~ ~ 0.8 0.8 0.8 0.3 5
execute if entity @s[scores={counter=3..4}] run playsound minecraft:block.note_block.pling ambient @a[distance=..6] ~ ~ ~ 1 1 
execute if entity @s[scores={counter=40..41}] run playsound minecraft:block.note_block.pling ambient @a[distance=..6] ~ ~ ~ 1 1.1
execute if entity @s[scores={counter=80..81}] run playsound minecraft:block.note_block.pling ambient @a[distance=..6] ~ ~ ~ 1 1.2
execute if entity @s[scores={counter=120..121}] run playsound minecraft:block.note_block.pling ambient @a[distance=..6] ~ ~ ~ 1 1.3

execute if entity @s[scores={deaths=1..}] run scoreboard players set @s time3 0

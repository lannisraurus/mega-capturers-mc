# Inventory
item replace entity @s[scores={time=..30}] hotbar.0 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Mutagenic Pathogen","color":"#D60000"}','{"text":"Cooldown: 10 seconds","color":"#D60000"}','{"text":"Damage: 2 Hearts","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Infect the nearest enemy within 8 blocks with a blood virus, dealing single-target damage.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest1:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:2.5,Operation:0,UUID:[I;-772367853,-1191228189,-1697898978,940194694],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1873056737,-243184821,-1360332876,1367599057],Slot:"mainhand"}]} 1
item replace entity @s[scores={time=..30}] hotbar.1 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Holy Blood Mass","color":"#D60000"}','{"text":"Cooldown: 5 seconds","color":"#D60000"}','{"text":"Heal: 4 Hearts + regen (AoE)","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Damage yourself (2 Hearts) to heal all allies around you.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest2:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:2.5,Operation:0,UUID:[I;-45635724,-545832545,-1236427486,1737257722],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;505462229,-1935457945,-1194241835,2104761107],Slot:"mainhand"}]} 1
item replace entity @s[scores={time=..30}] hotbar.2 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Cursed Sepsis","color":"#D60000"}','{"text":"Cooldown: 100 seconds","color":"#D60000"}','{"text":"Damage: Infinite","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"After a short animation, you can kill one enemy instantaneously with a melee attack ONCE. You die after 5 seconds.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest3:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:2.5,Operation:0,UUID:[I;-786577352,-1355395338,-1836697941,1163417266],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;-2140141981,1181042551,-1163896399,-571780259],Slot:"mainhand"}]} 1

item replace entity @s[tag=bloodkill] hotbar.0 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Mutagenic Pathogen","color":"#D60000"}','{"text":"Cooldown: 12 seconds","color":"#D60000"}','{"text":"Damage: 2 Hearts","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Infect the nearest enemy within 8 blocks with a blood virus, dealing single-target damage.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest1:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3.2,Operation:0,UUID:[I;-772367853,-1191228189,-1697898978,940194694],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1873056737,-243184821,-1360332876,1367599057],Slot:"mainhand"}]} 1
item replace entity @s[tag=bloodkill] hotbar.1 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Holy Blood Mass","color":"#D60000"}','{"text":"Cooldown: 5 seconds","color":"#D60000"}','{"text":"Heal: ~3 Hearts (AoE)","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Damage yourself (2 Hearts) to heal all allies around you.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest2:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3.2,Operation:0,UUID:[I;-45635724,-545832545,-1236427486,1737257722],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;505462229,-1935457945,-1194241835,2104761107],Slot:"mainhand"}]} 1
item replace entity @s[tag=bloodkill] hotbar.2 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Cursed Sepsis","color":"#D60000"}','{"text":"Cooldown: 100 seconds","color":"#D60000"}','{"text":"Damage: Infinite","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"After a short animation, you can kill one enemy instantaneously with a melee attack ONCE. You die after 5 seconds.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1045,priest3:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3.2,Operation:0,UUID:[I;-786577352,-1355395338,-1836697941,1163417266],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;-2140141981,1181042551,-1163896399,-571780259],Slot:"mainhand"}]} 1

item replace entity @s[tag=!bloodkill,scores={time=30..}] hotbar.0 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Mutagenic Pathogen","color":"#D60000"}','{"text":"Cooldown: 12 seconds","color":"#D60000"}','{"text":"Damage: 2 Hearts","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Infect the nearest enemy within 8 blocks with a blood virus, dealing single-target damage.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1050,priest1:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3200,Operation:0,UUID:[I;-772367853,-1191228189,-1697898978,940194694],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;1873056737,-243184821,-1360332876,1367599057],Slot:"mainhand"}]} 1
item replace entity @s[tag=!bloodkill,scores={time=30..}] hotbar.1 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Holy Blood Mass","color":"#D60000"}','{"text":"Cooldown: 5 seconds","color":"#D60000"}','{"text":"Heal: ~3 Hearts (AoE)","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"Damage yourself (4 Hearts) to heal all allies around you.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1050,priest2:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3200,Operation:0,UUID:[I;-45635724,-545832545,-1236427486,1737257722],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;505462229,-1935457945,-1194241835,2104761107],Slot:"mainhand"}]} 1
item replace entity @s[tag=!bloodkill,scores={time=30..}] hotbar.2 with carrot_on_a_stick{ability:1b,display:{Name:'{"text":"Accursed Blade","color":"#990000","bold":true}',Lore:['{"text":"Ability: Cursed Sepsis","color":"#D60000"}','{"text":"Cooldown: 100 seconds","color":"#D60000"}','{"text":"Damage: Infinite","color":"#D60000"}','{"text":"------------------","color":"#D60000"}','{"text":"After a short animation, you can kill one enemy instantaneously with a melee attack ONCE. You die after 5 seconds.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1050,priest3:1b,AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3200,Operation:0,UUID:[I;-786577352,-1355395338,-1836697941,1163417266],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:100,Operation:0,UUID:[I;-2140141981,1181042551,-1163896399,-571780259],Slot:"mainhand"}]} 1


item replace entity @s hotbar.8 with carrot_on_a_stick{display:{Name:'{"text":"Passive Ability","color":"#990000","bold":true}',Lore:['{"text":"Passive: Vampirism","color":"#D60000"}','{"text":"----------------------","color":"#D60000"}','{"text":"Melee attacks and your ability #1 regenerate your health. When you hit an enemy 4 times, you gain 2 hearts. Your first ability regenerates 2 hearts if it hits.","color":"#D60000"}']},HideFlags:4,Unbreakable:1b,CustomModelData:1049,clean:1b} 1

# Attributes
attribute @s minecraft:generic.max_health base set 20
attribute @s minecraft:generic.movement_speed base set 0.141

# Ability Text Indicators
title @s[nbt={SelectedItem:{tag:{priest1:1b}}}] actionbar ["",{"text":"Ability: Profane Pathogen || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a1_sec"},"bold":true},{"text":" seconds","bold":true}]
title @s[nbt={SelectedItem:{tag:{priest2:1b}}}] actionbar ["",{"text":"Ability: Holy Blood Mass || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a2_sec"},"bold":true},{"text":" seconds","bold":true}]
title @s[nbt={SelectedItem:{tag:{priest3:1b}}}] actionbar ["",{"text":"Ability: Cursed Sepsis || Cooldown: ","bold":true},{"score":{"name":"@s","objective":"a3_sec"},"bold":true},{"text":" seconds","bold":true}]
title @s[nbt={SelectedItem:{tag:{clean:1b}}}] actionbar {"text":""}

# Use Abilities
execute as @s[tag=can_use,nbt={SelectedItem:{tag:{priest1:1b}}},scores={a1_sec=0,right_click=1..}] at @s run function raurus:classes/priest1
execute as @s[tag=can_use,nbt={SelectedItem:{tag:{priest2:1b}}},scores={a2_sec=0,right_click=1..}] at @s run function raurus:classes/priest2
execute as @s[tag=can_use,nbt={SelectedItem:{tag:{priest3:1b}}},scores={a3_sec=0,right_click=1..}] at @s run function raurus:classes/priest3

# Ability Icon Indicators
item replace entity @s[nbt=!{SelectedItem:{tag:{ability:1b}}}] hotbar.5 with air 1

item replace entity @s[nbt={SelectedItem:{tag:{priest1:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Profane Pathogen"}'},Unbreakable:1b,CustomModelData:1046,HideFlags:4} 1
item replace entity @s[nbt={SelectedItem:{tag:{priest2:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Holy Blood Mass"}'},Unbreakable:1b,CustomModelData:1047,HideFlags:4} 1
item replace entity @s[nbt={SelectedItem:{tag:{priest3:1b}}}] hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Cursed Sepsis"}'},Unbreakable:1b,CustomModelData:1048,HideFlags:4} 1

item replace entity @s inventory.18 with carrot_on_a_stick{display:{Name:'{"text":"Profane Pathogen"}'},Unbreakable:1b,CustomModelData:1046,HideFlags:4} 1
item replace entity @s inventory.19 with carrot_on_a_stick{display:{Name:'{"text":"Holy Blood Mass"}'},Unbreakable:1b,CustomModelData:1047,HideFlags:4} 1
item replace entity @s inventory.20 with carrot_on_a_stick{display:{Name:'{"text":"Cursed Sepsis"}'},Unbreakable:1b,CustomModelData:1048,HideFlags:4} 1

# Passive Ability
execute if entity @s[scores={deal_damage=1..}] run scoreboard players add @s counter 1
execute if entity @s[scores={counter=4..}] run function raurus:classes/priest0

# Ultimate
scoreboard players set @s[scores={deaths=1..}] time 0
execute if entity @s[scores={time=1..}] run function raurus:classes/priest3ac
